<f:form action="list" name="filter" controller="Category" object="{filter}">
  <f:form.hidden property="activeCategoryId" value="{activeCategory.uid}" />

  <div class="h2 font-bold">{filter.categories.0.name}</div>
  <div class="h4 d-flex gap-2">
    <span><f:translate key="frontend.materials" /></span>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      fill="currentColor"
      class="bi bi-chevron-right align-self-end"
      viewBox="0 0 16 16"
    >
      <path
        fill-rule="evenodd"
        d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"
      />
    </svg>
  </div>
  <div
    class="d-flex justify-content-between align-items-md-center flex-column flex-md-row gap-2"
  >
    <div class="d-flex gap-2 align-items-center">
      <div
        class="d-flex gap-2 flex-wrap flex-md-nowrap"
        role="group"
        aria-label="Basic checkbox toggle button group"
      >
        <f:for each="{allMaterials}" as="material">
          <f:form.checkbox
            class="btn-check material-checkbox"
            id="{material.id}"
            property="materialIds"
            value="{material.uid}"
            autocomplete="off"
            multiple="1"
            onchange="handleMaterialSelection(this)"
          />
          <label class="btn btn-light" for="{material.id}">
            {material.name}
          </label>
        </f:for>

        <script>
          function handleMaterialSelection(clickedCheckbox) {
            document
              .querySelectorAll(".material-checkbox")
              .forEach((checkbox) => {
                if (checkbox !== clickedCheckbox) {
                  checkbox.checked = false;
                }
              });
            document.forms["filter"].submit();
          }
        </script>
      </div>
    </div>

    <div
      class="d-flex flex-column align-items-end gap-2"
      style="inline-size: auto"
    >
      <!-- checkout Button -->
      <div
        class="d-flex flex-column align-items-end gap-2"
        style="inline-size: auto"
      >
        <a
          href="/shop/checkout"
          class="btn btn-primary d-flex gap-2 align-items-center justify-content-center"
          style="inline-size: 200px; block-size: 40px"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            class="bi bi-bag-check"
            viewBox="0 0 16 16"
            style="vertical-align: middle; margin-inline-end: 5px"
          >
            <path
              fill-rule="evenodd"
              d="M8 0a3 3 0 0 0-3 3v1H3.5A1.5 1.5 0 0 0 2 5.5v8A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 12.5 4H11V3a3 3 0 0 0-3-3m2 4V3a2 2 0 0 0-4 0v1zm3.354 6.354-2.5 2.5a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708l1.146 1.147 2.146-2.147a.5.5 0 0 1 .708.708"
            />
          </svg>
          <f:translate
            key="frontend.checkout"
            extensionName="rr_sondermetalle"
          />
        </a>
      </div>
      
      <!-- Filter Button -->
      <!-- <f:form.button
        class="btn btn-primary d-flex gap-2 align-items-center justify-content-center"
        style="inline-size: 200px; block-size: 40px"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-filter"
          viewBox="0 0 16 16"
        >
          <path
            d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"
          />
        </svg>
        <f:translate key="frontend.apply_filters" />
      </f:form.button> -->

      <!-- Price on Request Button -->
      <f:if condition="{settings.showPrice} == 0">
        <f:link.page
          pageUid="61"
          class="d-flex gap-2 align-items-center justify-content-center"
          style="
            inline-size: 200px;
            block-size: 40px;
            background-color: rgb(251, 146, 60);
            color: black;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 700;
          "
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            fill="currentColor"
            class="bi bi-info-circle"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 0a8 8 0 1 0 16 0A8 8 0 0 0 8 0zm0 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm.93-4.412-2.29-2.29a.5.5 0 0 1 .708-.708l2.29 2.29a.5.5 0 1 1-.708.708z"
            />
          </svg>
          <f:translate key="frontend.price_on_request" />
        </f:link.page>
      </f:if>
    </div>
  </div>
  <!-- <p class="py-4 text-xs font-bold flex flex-wrap items-center gap-1">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 512 512"
      class="w-4 h-4"
    >
      <path
        d="M256 8C119 8 8 119.1 8 256c0 137 111 248 248 248s248-111 248-248C504 119.1 393 8 256 8zm0 110c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm56 254c0 6.6-5.4 12-12 12h-88c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h12v-64h-12c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h64c6.6 0 12-5.4 12 12v100h12c6.6 0 12-5.4 12 12v24z"
      />
    </svg>
    <f:translate key="frontend.filterAttention" />
  </p> -->
</f:form>
