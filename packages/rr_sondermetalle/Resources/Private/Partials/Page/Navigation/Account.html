<div class="flex items-center justify-end space-x-2 py-1 md:px-2">
  <f:if condition="{user}">
    <f:then>
      <f:if condition="{user.avatar}">
        <f:then>
          <div class="relative w-10 h-10">
            <f:image
              image="{user.avatar}"
              id="avatarButton"
              type="button"
              class="rounded-full w-full h-full object-cover"
              alt="{user.first_name} {user.last_name}"
              data-dropdown-toggle="userDropdown"
              data-dropdown-placement="bottom-start"
            />
          </div>
        </f:then>
        <f:else>
          <div
            type="button"
            data-dropdown-toggle="userDropdown"
            data-dropdown-placement="bottom-start"
            class="relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-secondary-500 rounded-full"
          >
            <span class="font-medium text-primary-500"
              >{user.avatarFallback}</span
            >
          </div></f:else
        >
      </f:if>
      <!-- Avatar Dropdown menu -->
      <div
        id="userDropdown"
        class="z-50 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-52"
      >
        <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
          <div>{user.first_name} {user.last_name}</div>
          <div class="font-medium truncate">{user.email}</div>
        </div>
        <ul
          class="py-2 text-sm text-gray-700 dark:text-gray-200"
          aria-labelledby="avatarButton"
        >
          <li>
            <f:link.page
              pageUid="40"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              >Dashboard</f:link.page
            >
          </li>
          <li>
            <f:link.page
              pageUid="62"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              >Profile</f:link.page
            >
          </li>
          <li>
            <f:link.page
              pageUid="64"
              class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
              ><f:translate
                key="frontend.orders"
                extensionName="rr_sondermetalle"
            /></f:link.page>
          </li>
        </ul>
        <div class="py-1">
          <div class="flex flex-col items-center space-y-2">
            <form method="post" target="_top" action="/login" class="w-full">
              <input
                type="hidden"
                name="__referrer[@extension]"
                value="Felogin"
              />
              <input
                type="hidden"
                name="__referrer[@controller]"
                value="Login"
              />
              <input type="hidden" name="__referrer[@action]" value="logout" />
              <input
                type="hidden"
                name="__referrer[arguments]"
                value="YToxOntzOjE4OiJyZWRpcmVjdFBhZ2VMb2dvdXQiO3M6MjoiMzUiO30=f2ec9f9f422b7103a9ae078d5c9e65faccee91c2"
              />
              <input
                type="hidden"
                name="__referrer[@request]"
                value='{"@extension":"Felogin","@controller":"Login","@action":"logout"}817b9e2f7ed6b6d47ad014d41bf3ad26d1f816ab'
              />
              <input
                type="hidden"
                name="__trustedProperties"
                value='{"submit":1,"logintype":1}1b7068f9c2a74083d33e397412a2cec55fe581ac'
              />

              <input
                id="tx-felogin-input-logout"
                type="submit"
                value="{f:translate(key: 'logout', extensionName:'Felogin')}"
                name="submit"
                class="w-full text-start block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
              />

              <input type="hidden" name="logintype" value="logout" />
            </form>
          </div>
        </div>
      </div>
    </f:then>
    <f:else>
      <f:link.page pageUid="35" class="w-10 h-10">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
          class="fill-secondary-500"
        >
          <!--!Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
          <path
            d="M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"
          />
        </svg>
      </f:link.page>
    </f:else>
  </f:if>
</div>
