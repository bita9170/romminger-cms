<div class="bg-secondary p-4 h-100 space-y-4 flex flex-col">
  <div class="flex flex-row items-center gap-2">
    <f:if condition="{user.avatar}">
      <f:then>
        <div class="relative w-20 h-20">
          <f:image
            image="{user.avatar}"
            id="avatarButton"
            class="rounded-full w-full h-full object-cover"
            alt="{user.first_name} {user.last_name}"
          />

          <f:link.page
            pageUid="71"
            class="flex items-center text-xs gap-2 bg-gray-600 rounded-full p-1 absolute top-0 right-0"
            title="Edit Profile Image"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="w-3 h-3 fill-gray-200 hover:fill-secondary-600 transition duration-300"
            >
              <path
                d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4 .4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
              />
            </svg>
          </f:link.page>
        </div>
      </f:then>
      <f:else>
        <div class="relative w-20 h-20">
          <div
            class="relative inline-flex items-center justify-center w-full h-full overflow-hidden bg-primary rounded-full"
          >
            <span class="font-medium text-white text-3xl"
              >{user.avatarFallback}</span
            >
          </div>

          <f:link.page
            pageUid="71"
            class="flex items-center text-xs gap-2 bg-gray-600 rounded-full p-1 absolute top-0 right-0"
            title="Edit Profile Image"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="w-3 h-3 fill-gray-200 hover:fill-secondary-600 transition duration-300"
            >
              <path
                d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4 .4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
              />
            </svg>
          </f:link.page>
        </div>
      </f:else>
    </f:if>
    <div class="flex flex-col flex-1">
      <div class="text-sm font-semibold text-gray-900 dark:text-white">
        <div>{user.first_name} {user.last_name}</div>
        <div class="font-medium truncate">{user.email}</div>
      </div>
    </div>
  </div>

  <ul class="text-gray-700 mt-4 flex-1">
    <li>
      <f:if condition="{pageTitle} == 'dashboard'">
        <f:then>
          <f:link.page
            pageUid="40"
            class="block hover:bg-gray-400 p-1 font-bold"
          >
            Dashboard
          </f:link.page>
        </f:then>
        <f:else>
          <f:link.page pageUid="40" class="block hover:bg-gray-400 p-1">
            Dashboard
          </f:link.page>
        </f:else>
      </f:if>
    </li>

    <li>
      <f:if condition="{pageTitle} == 'profile'">
        <f:then>
          <f:link.page
            pageUid="62"
            class="block hover:bg-gray-400 p-1 font-bold"
          >
            Profile
          </f:link.page>
        </f:then>
        <f:else>
          <f:link.page pageUid="62" class="block hover:bg-gray-400 p-1">
            Profile
          </f:link.page>
        </f:else>
      </f:if>
    </li>
    <li>
      <f:if condition="{pageTitle} == 'orders'">
        <f:then>
          <f:link.page
            pageUid="64"
            class="block hover:bg-gray-400 p-1 font-bold"
          >
            <f:translate
              key="frontend.orders"
              extensionName="rr_sondermetalle"
            />
          </f:link.page>
        </f:then>
        <f:else>
          <f:link.page pageUid="64" class="block hover:bg-gray-400 p-1">
            <f:translate
              key="frontend.orders"
              extensionName="rr_sondermetalle"
            />
          </f:link.page>
        </f:else>
      </f:if>
    </li>
  </ul>

  <div class="flex flex-col items-center space-y-2">
    <form method="post" target="_top" action="/login" class="w-full">
      <input type="hidden" name="__referrer[@extension]" value="Felogin" />
      <input type="hidden" name="__referrer[@controller]" value="Login" />
      <input type="hidden" name="__referrer[@action]" value="logout" />
      <input
        type="hidden"
        name="__referrer[arguments]"
        value="YToxOntzOjE4OiJyZWRpcmVjdFBhZ2VMb2dvdXQiO3M6MjoiMzUiO30=f2ec9f9f422b7103a9ae078d5c9e65faccee91c2"
      />
      <input
        type="hidden"
        name="__referrer[@request]"
        value='{"@extension":"Felogin","@controller":"Login","@action":"logout"}817b9e2f7ed6b6d47ad014d41bf3ad26d1f816ab'
      />
      <input
        type="hidden"
        name="__trustedProperties"
        value='{"submit":1,"logintype":1}1b7068f9c2a74083d33e397412a2cec55fe581ac'
      />

      <input
        id="tx-felogin-input-logout"
        type="submit"
        value="{f:translate(key: 'logout', extensionName:'Felogin')}"
        name="submit"
        class="w-full btn btn-primary"
      />

      <input type="hidden" name="logintype" value="logout" />
    </form>
  </div>
</div>
